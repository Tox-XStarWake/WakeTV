<html>
  <meta http-equiv="refresh" content="1200">
  <head>
  <style>
    .hide { display:none; }

    /* Optional: The following css just makes sure the twitch video stays responsive */
    #twitch {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 */
      padding-top: 25px;
      height: 0;
    }
    #twitch object, #twitch iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    </style>
</head>
  
  <body>
        <script>
          if (location.protocol != 'https:') {
            location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
            }
        </script>
     
        <script src="https://embed.twitch.tv/embed/v1.js"></script> 

    
    
    
    
    <div id="ChefDuckie-twitch-embed"></div>  
    
    
    
    

    
    
    <script type="text/javascript">
    var options = {
      width: 400,
      height: 480,
      channel: "ChefDuckie",
      layout: "video-with-chat",
      theme: "dark",
      parent: ["glitch.com", "xstarwake.org", "www.xstarwake.org", "www-xstarwake-org.glitch.me", "localhost"], 
    };
        
    var ChefDuckieStream = new Twitch.Player("ChefDuckie-twitch-embed", options);

    ChefDuckieStream.addEventListener(Twitch.Player.READY, initiate)

    function initiate() {
      ChefDuckieStream.addEventListener(Twitch.Player.ONLINE, handleOnline);
      ChefDuckieStream.addEventListener(Twitch.Player.OFFLINE, handleOffline);
      ChefDuckieStream.removeEventListener(Twitch.Player.READY, initiate);
    }

    function handleOnline() {
      document.getElementById("ChefDuckie-twitch-embed").classList.remove('hide');
      ChefDuckieStream.removeEventListener(Twitch.Player.ONLINE, handleOnline);
      ChefDuckieStream.addEventListener(Twitch.Player.OFFLINE, handleOffline);
      ChefDuckieStream.setMuted(false);
    }

    function handleOffline() {
      document.getElementById("ChefDuckie-twitch-embed").classList.add('hide');
      ChefDuckieStream.removeEventListener(Twitch.Player.OFFLINE, handleOffline);
      ChefDuckieStream.addEventListener(Twitch.Player.ONLINE, handleOnline);
      ChefDuckieStream.setMuted(true);
    }
  </script>  
  
    
  </body>
</html>